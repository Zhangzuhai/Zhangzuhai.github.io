<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>RabbitMQ安装和配置 | zzuhai</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="安装和操作otp下载地址：http://www.erlang.org/downloads otp安装教程：http://blog.51cto.com/10836356/2082658 rabbitmq下载地址：http://www.rabbitmq.com/install-windows.html rabbetmq安装教程：https://www.cnblogs.com/ericli-ericli">
<meta name="keywords" content="MQ">
<meta property="og:type" content="article">
<meta property="og:title" content="RabbitMQ安装和配置">
<meta property="og:url" content="http://zzuhai.github.io/2019/06/04/RabbitMQ安装和配置/index.html">
<meta property="og:site_name" content="zzuhai">
<meta property="og:description" content="安装和操作otp下载地址：http://www.erlang.org/downloads otp安装教程：http://blog.51cto.com/10836356/2082658 rabbitmq下载地址：http://www.rabbitmq.com/install-windows.html rabbetmq安装教程：https://www.cnblogs.com/ericli-ericli">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://github.com/Zhangzuhai/gitrepository/raw/master/rabbitmq.png">
<meta property="og:image" content="https://github.com/Zhangzuhai/gitrepository/raw/master/rabbitmqtopic.png">
<meta property="og:updated_time" content="2019-06-04T06:51:12.378Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RabbitMQ安装和配置">
<meta name="twitter:description" content="安装和操作otp下载地址：http://www.erlang.org/downloads otp安装教程：http://blog.51cto.com/10836356/2082658 rabbitmq下载地址：http://www.rabbitmq.com/install-windows.html rabbetmq安装教程：https://www.cnblogs.com/ericli-ericli">
<meta name="twitter:image" content="https://github.com/Zhangzuhai/gitrepository/raw/master/rabbitmq.png">
  
    <link rel="alternate" href="/atom.xml" title="zzuhai" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">zzuhai</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zzuhai.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-RabbitMQ安装和配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/04/RabbitMQ安装和配置/" class="article-date">
  <time datetime="2019-06-04T06:47:05.000Z" itemprop="datePublished">2019-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      RabbitMQ安装和配置
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="安装和操作"><a href="#安装和操作" class="headerlink" title="安装和操作"></a>安装和操作</h3><p>otp下载地址：<a href="http://www.erlang.org/downloads" target="_blank" rel="noopener">http://www.erlang.org/downloads</a></p>
<p>otp安装教程：<a href="http://blog.51cto.com/10836356/2082658" target="_blank" rel="noopener">http://blog.51cto.com/10836356/2082658</a></p>
<p>rabbitmq下载地址：<a href="http://www.rabbitmq.com/install-windows.html" target="_blank" rel="noopener">http://www.rabbitmq.com/install-windows.html</a></p>
<p>rabbetmq安装教程：<a href="https://www.cnblogs.com/ericli-ericli/p/5902270.html" target="_blank" rel="noopener">https://www.cnblogs.com/ericli-ericli/p/5902270.html</a></p>
<h6 id="激活RabbitMQ’s-Management-Plugin："><a href="#激活RabbitMQ’s-Management-Plugin：" class="headerlink" title="激活RabbitMQ’s Management Plugin："></a>激活RabbitMQ’s Management Plugin：</h6><p>“D:\Program Files\RabbitMQ Server\rabbitmq_server-3.6.5\sbin\rabbitmq-plugins.bat” enable rabbitmq_management</p>
<h6 id="重启mq："><a href="#重启mq：" class="headerlink" title="重启mq："></a>重启mq：</h6><p>net stop RabbitMQ &amp;&amp; net start RabbitMQ</p>
<p>以下命令都要在sbin目录下执行</p>
<h4 id="用户相关"><a href="#用户相关" class="headerlink" title="用户相关"></a>用户相关</h4><h5 id="创建一个用户："><a href="#创建一个用户：" class="headerlink" title="创建一个用户："></a>创建一个用户：</h5><p>rabbitmqctl add_user username password</p>
<h5 id="删除用户："><a href="#删除用户：" class="headerlink" title="删除用户："></a>删除用户：</h5><p>rabbitmqctl delete_user username </p>
<h5 id="改密码"><a href="#改密码" class="headerlink" title="改密码:"></a>改密码:</h5><p>rabbimqctl change_password username newpassword</p>
<h5 id="修改用户角色："><a href="#修改用户角色：" class="headerlink" title="修改用户角色："></a>修改用户角色：</h5><p>rabbitmqctl.bat set_user_tags username administrator</p>
<h5 id="mq用户角色"><a href="#mq用户角色" class="headerlink" title="mq用户角色"></a>mq用户角色</h5><ul>
<li><strong>超级管理员(administrator)</strong><br>可登陆管理控制台(启用management plugin的情况下)，可查看所有的信息，并且可以对用户，策略(policy)进行操作。</li>
<li><strong>监控者(monitoring)</strong><br>可登陆管理控制台(启用management plugin的情况下)，同时可以查看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等) </li>
<li><strong>策略制定者(policymaker)</strong><br>可登陆管理控制台(启用management plugin的情况下), 同时可以对policy进行管理。</li>
<li><strong>普通管理者(management)</strong><br>仅可登陆管理控制台(启用management plugin的情况下)，无法看到节点信息，也无法对策略进行管理。</li>
<li><strong>其他的</strong><br>无法登陆管理控制台，通常就是普通的生产者和消费者。</li>
</ul>
<h4 id="host相关"><a href="#host相关" class="headerlink" title="host相关"></a>host相关</h4><h5 id="查看host列表："><a href="#查看host列表：" class="headerlink" title="查看host列表："></a>查看host列表：</h5><p>rabbitmqctl list_vhosts</p>
<h5 id="添加host命令："><a href="#添加host命令：" class="headerlink" title="添加host命令："></a>添加host命令：</h5><p>rabbitmqctl add_vhost lifengtest</p>
<h5 id="删除host命令："><a href="#删除host命令：" class="headerlink" title="删除host命令："></a>删除host命令：</h5><p>rabbitmqctl delete_vhost lifenghost</p>
<h5 id="给新增的host增加用户和用户权限（后边三个-分别代表：配置权限、写权限、读权限）："><a href="#给新增的host增加用户和用户权限（后边三个-分别代表：配置权限、写权限、读权限）：" class="headerlink" title="给新增的host增加用户和用户权限（后边三个.*分别代表：配置权限、写权限、读权限）："></a>给新增的host增加用户和用户权限（后边三个.*分别代表：配置权限、写权限、读权限）：</h5><p>rabbitmqctl set_permissions -p vhostname username “.*” “.*” “.*”</p>
<p>host添加完成以后<br>添加exchange<br>添加queue<br>绑定exchange和queue</p>
<h3 id="原理及相关定义"><a href="#原理及相关定义" class="headerlink" title="原理及相关定义"></a>原理及相关定义</h3><p><img src="https://github.com/Zhangzuhai/gitrepository/raw/master/rabbitmq.png" alt="image"></p>
<h4 id="Exchange类型"><a href="#Exchange类型" class="headerlink" title="Exchange类型"></a>Exchange类型</h4><h5 id="Direct-键（routing-key）分布"><a href="#Direct-键（routing-key）分布" class="headerlink" title="Direct 键（routing key）分布"></a>Direct 键（routing key）分布</h5><p>Direct：消息中的路由键（routing key）如果和 Binding 中的 binding key 一致，<br>交换器就将消息发到对应的队列中。它是完全匹配、单播的模式。</p>
<h5 id="Fanout（广播分发）"><a href="#Fanout（广播分发）" class="headerlink" title="Fanout（广播分发）"></a>Fanout（广播分发）</h5><p>Fanout：每个发到 fanout 类型交换器的消息都会分到所有绑定的队列上去。很像子<br>网广播，每台子网内的主机都获得了一份复制的消息。fanout 类型转发消息是最快<br>的。</p>
<h5 id="topic-交换器（模式匹配）"><a href="#topic-交换器（模式匹配）" class="headerlink" title="topic 交换器（模式匹配）"></a>topic 交换器（模式匹配）</h5><p>topic 交换器：topic 交换器通过模式匹配分配消息的路由键属性，将路由键和某个模<br>式进行匹配，此时队列需要绑定到一个模式上。它将路由键和绑定键的字符串切分成<br>单词，这些单词之间用点隔开。它同样也会识别两个通配符：符号“#”和符号<br>“”。#匹配 0 个或多个单词，匹配不多不少一个单词。<br><img src="https://github.com/Zhangzuhai/gitrepository/raw/master/rabbitmqtopic.png" alt="image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://zzuhai.github.io/2019/06/04/RabbitMQ安装和配置/" data-id="cjwhgmnmy000120uvzw2nh8mk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MQ/">MQ</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/06/04/JVM内存分配与回收/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JVM内存分配与回收
        
      </div>
    </a>
  
  
    <a href="/2019/06/04/Java多线程一篇就够了/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Java多线程一篇就够了</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MQ/">MQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-cloud/">spring cloud</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/MQ/" style="font-size: 10px;">MQ</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/spring-cloud/" style="font-size: 10px;">spring cloud</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/04/Spring Cloud Eureka 服务上下线监控/">Spring Cloud Eureka 服务上下线监控</a>
          </li>
        
          <li>
            <a href="/2019/06/04/JVM内存分配与回收/">JVM内存分配与回收</a>
          </li>
        
          <li>
            <a href="/2019/06/04/RabbitMQ安装和配置/">RabbitMQ安装和配置</a>
          </li>
        
          <li>
            <a href="/2019/06/04/Java多线程一篇就够了/">Java多线程一篇就够了</a>
          </li>
        
          <li>
            <a href="/2019/06/04/3DES-CBC-PKCS-7Padding加密解密/">3DES/CBC/PKCS/7Padding加密解密</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 zzuhai<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>